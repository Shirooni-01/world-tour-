<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Tour</title>   
    <link rel="stylesheet" href="2page.css">
</head>
<body>

    <div id="bg_shade"></div>
    <video id="bg-video" autoplay muted playsinline></video>

    <nav id="site-nav">
        <div id="heading">
            <h1 id="head_world_tour">World tours</h1>
        </div>

        <!-- navigation links -->
        <div id="navbar">
            <a href="index.html" class="nav_link">Home</a>
            <a href="details.html" class="nav_link">Package Deals</a>
            <a href="booknow.html" class="nav_link">Book Now</a>
            <div class="nav-item contact-menu">
                <a href="contactus.html" class="nav_link" id="contact-toggle" aria-expanded="false">Contact Us</a>
                <ul id="contact-dropdown" class="contact-dropdown" aria-hidden="true">
                    <li>Email: contact@example.com</li>
                    <li>Phone: +1234567890</li>
                </ul>
            </div>
            <!-- <a href="aboutus.html" class="nav_link">About Us</a> -->
        </div>

            <!-- mobile menu button (visible on small screens) -->
            <button id="mobile-menu-btn" aria-label="Open menu" aria-expanded="false">â‹®</button>

            <!-- mobile menu (shows on small screens when toggled) -->
            <div id="mobile-menu" class="mobile-menu" aria-hidden="true">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="details.html">Package Deals</a></li>
                    <li><a href="booknow.html">Book Now</a></li>
                    <li class="mobile-contact">
                        <button id="mobile-contact-toggle" class="mobile-contact-toggle" aria-expanded="false">Contact Us</button>
                        <ul id="mobile-contact-dropdown" class="mobile-contact-dropdown" aria-hidden="true">
                            <li><a href="contactus.html#email">Email: contact@example.com</a></li>
                            <li><a href="contactus.html#phone">Phone: +1234567890</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
    </nav>

    <div id="images">

        <video src="bgvideo.mp4" id="img_bg" autoplay muted playsinline></video>

        <div id="ifell_tower_container">
            <img src="ifell_tower.jpg" alt="tower"  id="ifell_tower">
        </div>
        <div id="slant_tower_container">
            <img src="slant_tower.jpg" alt="tower"  id="slant_tower">
        </div>
        <div id="tajmahal_container">
            <img src="tajmahal.jpg" alt="mahal"  id="tajmahal">
        </div>
        <div id="wall_of_china_container">
            <img src="wall_of_china.jpg" alt="wall" id="wall_of_china">
        </div>

    </div>

    <div id="options_list">
        <h2 id="options_title">choose your tour</h2>
        <ul id="options_menu">
            <li><a href="eiffel_tower.html" class="option_link">Eiffel Tower Tour</a></li>
            <li><a href="leaning_tower.html" class="option_link">Leaning Tower Tour</a></li>
            <li><a href="tajmahal.html" class="option_link">Taj Mahal Tour</a></li>
            <li><a href="wallofchina.html" class="option_link">Great Wall Tour</a></li>
            <!-- Package Deals and Book Now moved to navbar -->
        </ul>
    </div>

    <script>

                // Contact dropdown toggle
                (function(){
                        const toggle = document.getElementById('contact-toggle');
                        const dropdown = document.getElementById('contact-dropdown');

                        function closeDropdown(){
                                dropdown.parentElement.classList.remove('open');
                                toggle.setAttribute('aria-expanded','false');
                                dropdown.setAttribute('aria-hidden','true');
                        }

                        function openDropdown(){
                                dropdown.parentElement.classList.add('open');
                                toggle.setAttribute('aria-expanded','true');
                                dropdown.setAttribute('aria-hidden','false');
                        }

                        toggle.addEventListener('click', function(e){
                                e.preventDefault();
                                if (dropdown.parentElement.classList.contains('open')) closeDropdown(); else openDropdown();
                        });

                        // close when clicking outside
                        document.addEventListener('click', function(e){
                                if (!e.target.closest('.contact-menu')) closeDropdown();
                        });

                        // close on ESC (dropdown only)
                        document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeDropdown(); });
                    })();

                        // Mobile menu toggle
                        (function(){
                            const btn = document.getElementById('mobile-menu-btn');
                            const menu = document.getElementById('mobile-menu');

                            function closeMobileMenu(){
                                menu.classList.remove('open');
                                btn.setAttribute('aria-expanded','false');
                                menu.setAttribute('aria-hidden','true');
                                // ensure mobile contact submenu is closed when menu closes
                                if (typeof closeMobileContact === 'function') closeMobileContact();
                            }

                            function openMobileMenu(){
                                // ensure mobile contact submenu starts closed
                                if (typeof closeMobileContact === 'function') closeMobileContact();
                                menu.classList.add('open');
                                btn.setAttribute('aria-expanded','true');
                                menu.setAttribute('aria-hidden','false');
                            }

                            function toggle(){ if (menu.classList.contains('open')) closeMobileMenu(); else openMobileMenu(); }

                            btn.addEventListener('click', function(e){ e.stopPropagation(); toggle(); });

                            // close on outside click
                            document.addEventListener('click', function(e){ if (!e.target.closest('#mobile-menu') && !e.target.closest('#mobile-menu-btn')) closeMobileMenu(); });

                            // close when a link is clicked
                            menu.querySelectorAll('a').forEach(a => a.addEventListener('click', function(){ closeMobileMenu(); if (typeof closeMobileContact === 'function') closeMobileContact(); }));

                            // mobile contact submenu toggle
                            const mobileContactToggle = document.getElementById('mobile-contact-toggle');
                            const mobileContactDropdown = document.getElementById('mobile-contact-dropdown');
                            const mobileContactLi = mobileContactToggle ? mobileContactToggle.closest('.mobile-contact') : null;

                            function closeMobileContact(){
                                if (mobileContactLi) mobileContactLi.classList.remove('open');
                                if (mobileContactToggle) mobileContactToggle.setAttribute('aria-expanded','false');
                                if (mobileContactDropdown) mobileContactDropdown.setAttribute('aria-hidden','true');
                            }

                            function openMobileContact(){
                                if (mobileContactLi) mobileContactLi.classList.add('open');
                                if (mobileContactToggle) mobileContactToggle.setAttribute('aria-expanded','true');
                                if (mobileContactDropdown) mobileContactDropdown.setAttribute('aria-hidden','false');
                            }

                            if (mobileContactToggle) {
                                mobileContactToggle.addEventListener('click', function(e){
                                    e.stopPropagation();
                                    if (mobileContactLi.classList.contains('open')) closeMobileContact(); else openMobileContact();
                                });

                                // prevent clicks inside the contact dropdown from closing the mobile menu
                                mobileContactDropdown && mobileContactDropdown.addEventListener('click', function(e){ e.stopPropagation(); });
                            }
                        })();

        // Image rotation for Eiffel Tower with cube effect
        const eiffelTower = document.getElementById('ifell_tower');
        const images = ['ifell_tower.jpg', 'ifell_tower1.jpg'];
        let currentImageIndex = 0;
        let isRotating = false;

        function rotateImage() {
            if (isRotating) return;
            isRotating = true;
            
            // Start cube rotation - rotate to 90 degrees (edge view)
            eiffelTower.style.transform = 'rotateY(90deg)';
            
            setTimeout(() => {
                // Change image source at midpoint when image is edge-on (not visible)
                currentImageIndex = (currentImageIndex + 1) % images.length;
                eiffelTower.src = images[currentImageIndex];
                
                // Complete the cube flip to 180 degrees
                eiffelTower.style.transform = 'rotateY(180deg)';
                
                setTimeout(() => {
                    // Reset rotation back to 0 degrees for next cycle
                    eiffelTower.style.transform = 'rotateY(0deg)';
                    isRotating = false;
                }, 500);
            }, 500);
        }

        // Start rotation every 5 seconds
        setInterval(rotateImage, 5000);

        // Image rotation for Slant Tower with cube effect
        const slantTower = document.getElementById('slant_tower');
        const slantImages = ['slant_tower.jpg', 'slant_tower1.jpg'];
        let currentSlantImageIndex = 0;
        let isSlantRotating = false;

        function rotateSlantImage() {
            if (isSlantRotating) return;
            isSlantRotating = true;
            
            // Start cube rotation - rotate to 90 degrees (edge view)
            slantTower.style.transform = 'rotateY(90deg)';
            
            setTimeout(() => {
                // Change image source at midpoint when image is edge-on (not visible)
                currentSlantImageIndex = (currentSlantImageIndex + 1) % slantImages.length;
                slantTower.src = slantImages[currentSlantImageIndex];
                
                // Complete the cube flip to 180 degrees
                slantTower.style.transform = 'rotateY(180deg)';
                
                setTimeout(() => {
                    // Reset rotation back to 0 degrees for next cycle
                    slantTower.style.transform = 'rotateY(0deg)';
                    isSlantRotating = false;
                }, 500);
            }, 500);
        }

        // Start rotation every 5 seconds
        setInterval(rotateSlantImage, 5000);

        // Image rotation for Taj Mahal with cube effect
        const tajmahal = document.getElementById('tajmahal');
        const tajmahalImages = ['tajmahal.jpg', 'tajmahal1.jpg'];
        let currentTajmahalImageIndex = 0;
        let isTajmahalRotating = false;

        function rotateTajmahalImage() {
            if (isTajmahalRotating) return;
            isTajmahalRotating = true;
            
            // Start cube rotation - rotate to 90 degrees (edge view)
            tajmahal.style.transform = 'rotateY(90deg)';
            
            setTimeout(() => {
                // Change image source at midpoint when image is edge-on (not visible)
                currentTajmahalImageIndex = (currentTajmahalImageIndex + 1) % tajmahalImages.length;
                tajmahal.src = tajmahalImages[currentTajmahalImageIndex];
                
                // Complete the cube flip to 180 degrees
                tajmahal.style.transform = 'rotateY(180deg)';
                
                setTimeout(() => {
                    // Reset rotation back to 0 degrees for next cycle
                    tajmahal.style.transform = 'rotateY(0deg)';
                    isTajmahalRotating = false;
                }, 500);
            }, 500);
        }

        // Start rotation every 5 seconds
        setInterval(rotateTajmahalImage, 5000);

        // Image rotation for Wall of China with cube effect
        const wallOfChina = document.getElementById('wall_of_china');
        const wallOfChinaImages = ['wall_of_china.jpg', 'wall_of_china1.jpg'];
        let currentWallOfChinaImageIndex = 0;
        let isWallOfChinaRotating = false;

        function rotateWallOfChinaImage() {
            if (isWallOfChinaRotating) return;
            isWallOfChinaRotating = true;
            
            // Start cube rotation - rotate to 90 degrees (edge view)
            wallOfChina.style.transform = 'rotateY(90deg)';
            
            setTimeout(() => {
                // Change image source at midpoint when image is edge-on (not visible)
                currentWallOfChinaImageIndex = (currentWallOfChinaImageIndex + 1) % wallOfChinaImages.length;
                wallOfChina.src = wallOfChinaImages[currentWallOfChinaImageIndex];
                
                // Complete the cube flip to 180 degrees
                wallOfChina.style.transform = 'rotateY(180deg)';
                
                setTimeout(() => {
                    // Reset rotation back to 0 degrees for next cycle
                    wallOfChina.style.transform = 'rotateY(0deg)';
                    isWallOfChinaRotating = false;
                }, 500);
            }, 500);
        }

        // Start rotation every 5 seconds
        setInterval(rotateWallOfChinaImage, 5000);

        // Auto-play background video
        (function(){
            const player = document.getElementById('bg-video');
            player.src = 'bgvideo.mp4';
            player.loop = true;
            const p = player.play();
            if (p && p.catch) p.catch(()=>{});
        })();
    </script>
</body>
</html> 
